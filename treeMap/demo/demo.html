<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>TreeMap Demo</title>
		<link rel="stylesheet" type="text/css" href="./css/treeMap.css"/>
	</head>
	<body>
		<div id='treeMap-horizontal'></div>
		<br /><hr /><br />
		<div id='treeMap-vertical'></div>
		
		<script src="./js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="./js/treeMap.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			var treeJson = [
							{
								"id" : "1", "text" : "父节点", "parentId" : "0",
								"childrens" : [
									{ "id" : "2", "text" : "子节点一", "parentId" : "1", "childrens" : [] },
									{ "id" : "3", "text" : "子节点二", "parentId" : "1",
										"childrens" : [
														{ "id" : "5", "text" : "孙子节点一", "parentId" : "3", "childrens" : [] },
														{ "id" : "6", "text" : "孙子节点二", "parentId" : "3", "childrens" : [] }
													]
									},
									{
										"id" : "4", "text" : "子节点三", "parentId" : "1",
										"childrens" : [ { "id" : "7", "text" : "孙子节点三", "parentId" : "4", "childrens" : [] } ]
									}
								]
							}
						];
		
		
		
			$("#treeMap-horizontal").treeMap({
				data : treeJson, // 渲染树状图的数据【必须】
				initLi : function (item) {
					var liStyle = "", liTitle = "";
					if (item.id == 2) {
						liStyle = "background-color:rgb(255,0,0);";
						liTitle = "已完成";
					} else if(item.id == 5) {
						liStyle = "background-color:rgb(0,255,0);";
						liTitle = "进行中";
					}
					return $("<li style='" + liStyle + "' title='" + liTitle + "'></li>").append("<span>" + item.text + "</span>");
				}
			});
			
			$("#treeMap-vertical").treeMap({
				data : treeJson, // 渲染树状图的数据【必须】
				direction : "vertical", // 渲染树状图的轴方向（vertical: 垂直 ; horizontal: 水平）
				initLi : function (item) {
					var liStyle = "", liTitle = "";
					if (item.id == 2) {
						liStyle = "background-color:rgb(255,0,0);";
						liTitle = "已完成";
					} else if(item.id == 5) {
						liStyle = "background-color:rgb(0,255,0);";
						liTitle = "进行中";
					}
					return $("<li style='" + liStyle + "' title='" + liTitle + "'></li>").append("<span>" + item.text + "</span>");
				}
			});
			
			
			function toView(id) {
				alert(id);
			}
		</script>
	</body>
</html>
